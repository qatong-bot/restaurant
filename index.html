<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Restaurant</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#f4f6f9}
header{background:#ff6b6b;color:white;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
.cart-icon{position:relative;cursor:pointer;font-size:20px}
.cart-badge{position:absolute;top:-8px;right:-10px;background:#2ed573;color:white;font-size:12px;padding:2px 6px;border-radius:50%}
.category-bar{display:flex;gap:10px;padding:10px 15px;flex-wrap:wrap;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,0.05)}
.category-btn{padding:6px 14px;border:none;border-radius:20px;background:#eee;cursor:pointer;white-space:nowrap}
.category-btn.active{background:#ff6b6b;color:white}
.menu{display:grid;grid-template-columns:repeat(auto-fill,minmax(40%,1fr));gap:15px;padding:20px}
.card{background:white;border-radius:14px;overflow:hidden;box-shadow:0 6px 15px rgba(0,0,0,0.06);transition:.3s}
.card:hover{transform:translateY(-4px)}
.card img{width:100%;height:140px;object-fit:cover}
.card-body{padding:10px}
.price{color:#ff6b6b;font-weight:bold;margin:6px 0;font-size:14px}
.add-btn{width:100%;padding:6px;border:none;background:#ff6b6b;color:white;border-radius:6px;cursor:pointer;font-size:14px}

.cart{
  position:fixed;
  top:0;
  right:0;
  width:100%;
  max-width:350px;
  height:100%;
  background:white;
  box-shadow:-4px 0 15px rgba(0,0,0,0.1);
  padding:15px;
  overflow-y:auto;
  transform: translateX(100%);
  transition: transform 0.3s ease;
  z-index:200;
}
.cart.open{transform: translateX(0)}

.cart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.close-cart{cursor:pointer;font-size:18px;color:#999}
.close-cart:hover{color:#ff4757}
.cart-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;flex-wrap:wrap}
.cart-item div{word-break:break-word;}
.qty-btn{background:#ff6b6b;border:none;color:white;width:22px;height:22px;border-radius:50%;cursor:pointer;font-size:12px;margin:0 2px}
.remove-btn{background:none;border:none;color:#ff4757;cursor:pointer;font-size:12px;margin-top:4px;word-break:break-word;}

.summary-line{display:flex;justify-content:space-between;margin-top:5px;font-size:14px}
.total{margin-top:10px;font-weight:bold;font-size:16px}
.checkout{margin-top:12px;width:100%;padding:10px;background:#2ed573;border:none;color:white;border-radius:6px;cursor:pointer;font-size:14px}

.lang-switch{position:fixed;top:10px;right:15px;z-index:2000;display:flex;gap:5px}
.lang-switch button{padding:5px 10px;border:none;border-radius:6px;cursor:pointer;background:#fff;color:#333;font-weight:500;box-shadow:0 2px 6px rgba(0,0,0,0.15);transition:all .2s;font-size:12px}
.lang-switch button:hover{background:#ff6b6b;color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,0.2)}
.lang-switch button.active{background:#ff6b6b;color:#fff;box-shadow:0 4px 12px rgba(0,0,0,0.2)}

@media(max-width:480px){
  .menu{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));padding:10px;gap:10px;}
  .card img{height:120px;}
  .add-btn{padding:5px;font-size:12px;}
  .price{font-size:12px;}
  .summary-line,.total{font-size:12px;}
  .cart{padding:10px;}
  .lang-switch{top:5px;gap:4px;}
}
</style>
</head>
<body>

<div class="lang-switch">
  <button onclick="setLang('zh')">‰∏≠Êñá</button>
  <button onclick="setLang('en')">EN</button>
  <button onclick="setLang('bm')">BM</button>
</div>

<header>
<h1 id="title">üçΩÔ∏è Smart Restaurant</h1>
<div class="cart-icon" onclick="toggleCart()">üõí<span class="cart-badge" id="cartCount">0</span></div>
</header>

<div class="category-bar" id="categoryBar"></div>
<div class="menu" id="menu"></div>

<div class="cart" id="cart">
<div class="cart-header">
<h2 id="cartTitle">Cart</h2>
<span class="close-cart" onclick="closeCart()">‚úñ</span>
</div>
<div id="cartItems"></div>

<div class="summary-line"><span id="labelSubtotal"></span><span id="subtotal">RM 0.00</span></div>
<div class="summary-line"><span id="labelSST"></span><span id="sst">RM 0.00</span></div>
<div class="summary-line"><span id="labelService"></span><span id="service">RM 0.00</span></div>
<div class="total summary-line"><span id="labelGrandTotal"></span><span id="grandTotal">RM 0.00</span></div>

<button class="checkout" onclick="checkout()" id="checkoutBtn">Checkout</button>
</div>

<script>
const currency="RM ",SST_RATE=0.06,SERVICE_RATE=0.10;

const dishes=[
{ name:{zh:'ÁâõÊéí',en:'Steak',bm:'Bistik'}, desc:{zh:'Êæ≥Ê¥≤ËøõÂè£ÁâõËÇâ',en:'Imported Australian Beef',bm:'Daging Lembu Import Australia'}, price:88, category:'Main', img:'https://via.placeholder.com/400'},
{ name:{zh:'Êä´Ëê®',en:'Pizza',bm:'Piza'}, desc:{zh:'ËäùÂ£´ÊµìÈÉÅÁé∞ÁÉ§',en:'Cheesy Freshly Baked',bm:'Keju Sedap Baru Dibakar'}, price:58, category:'Main', img:'https://via.placeholder.com/400'},
{ name:{zh:'ÊÑèÈù¢',en:'Pasta',bm:'Pasta'}, desc:{zh:'ÁªèÂÖ∏ËÇâÈÖ±È£éÂë≥',en:'Classic Meat Sauce',bm:'Rasa Sos Daging Klasik'}, price:48, category:'Main', img:'https://via.placeholder.com/400'},
{ name:{zh:'Ê±âÂ†°',en:'Burger',bm:'Burger'}, desc:{zh:'ÂèåÂ±ÇÁâõËÇâÂ†°',en:'Double Beef Patty',bm:'Burger Daging Lapis Dua'}, price:36, category:'Main', img:'https://via.placeholder.com/400'},
{ name:{zh:'ËñØÊù°',en:'French Fries',bm:'Kentang Goreng'}, desc:{zh:'Áé∞ÁÇ∏ÈÖ•ËÑÜ',en:'Crispy & Freshly Fried',bm:'Renyah & Baru Digoreng'}, price:15, category:'Side', img:'https://via.placeholder.com/400'},
{ name:{zh:'Â•∂Ëå∂',en:'Milk Tea',bm:'Teh Susu'}, desc:{zh:'È¶ôÊµìÈ°∫Êªë',en:'Rich & Smooth',bm:'Penuh Rasa & Lembut'}, price:18, category:'Drink', img:'https://via.placeholder.com/400'}
];

let cart=JSON.parse(localStorage.getItem("cart"))||[],currentCategory="All",currentLang="en";

const translations={
zh:{title:"üçΩÔ∏è Êô∫ËÉΩÈ§êÂéÖ",cart:"Ë¥≠Áâ©ËΩ¶",add:"Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶",checkout:"Á´ãÂç≥ÁªìÁÆó",subtotal:"Â∞èËÆ°",tax:"SST 6%",service:"ÊúçÂä°Ë¥π 10%",grandTotal:"ÊÄªÈáëÈ¢ù", remove:"Âà†Èô§"},
en:{title:"üçΩÔ∏è Smart Restaurant",cart:"Cart",add:"Add to Cart",checkout:"Checkout",subtotal:"Subtotal",tax:"SST 6%",service:"Service Charge 10%",grandTotal:"Grand Total", remove:"Remove"},
bm:{title:"üçΩÔ∏è Restoran Pintar",cart:"Troli",add:"Tambah",checkout:"Bayar",subtotal:"Jumlah",tax:"Cukai SST 6%",service:"Caj Perkhidmatan 10%",grandTotal:"Jumlah Keseluruhan", remove:"Buang"}
};

const categoryTranslations={
zh:{All:"ÂÖ®ÈÉ®",Main:"‰∏ªÈ£ü",Side:"Â∞èÂêÉ",Drink:"È•ÆÂìÅ"},
en:{All:"All",Main:"Main",Side:"Side",Drink:"Drink"},
bm:{All:"Semua",Main:"Utama",Side:"Sampingan",Drink:"Minuman"}
};

function formatMoney(num){return currency+num.toFixed(2)}

function renderCategories(){
  const bar=document.getElementById("categoryBar");
  bar.innerHTML="";
  const cats=["All",...new Set(dishes.map(d=>d.category))];
  cats.forEach(cat=>{
    bar.innerHTML+=`<button class="category-btn ${cat===currentCategory?'active':''}" onclick="filterCategory('${cat}')">${categoryTranslations[currentLang][cat]}</button>`;
  });
}

function filterCategory(cat){currentCategory=cat;renderCategories();renderMenu()}

function renderMenu(){
  const menu=document.getElementById("menu");
  menu.innerHTML="";
  const list=currentCategory==="All"?dishes:dishes.filter(d=>d.category===currentCategory);
  list.forEach(d=>{
    menu.innerHTML+=`<div class="card">
      <img src="${d.img}">
      <div class="card-body">
        <h3>${d.name[currentLang]}</h3>
        <p>${d.desc[currentLang]}</p>
        <p class="price">${formatMoney(d.price)}</p>
        <button class="add-btn" onclick="addToCart('${d.name.zh}')">${translations[currentLang].add}</button>
      </div>
    </div>`;
  });
}

function addToCart(nameZh){
  const item=cart.find(i=>i.nameZh===nameZh);
  if(item)item.qty++; else {const dish=dishes.find(d=>d.name.zh===nameZh);cart.push({...dish,qty:1,nameZh});}
  saveCart()
}

function changeQty(nameZh,delta){const item=cart.find(i=>i.nameZh===nameZh);if(!item) return;item.qty+=delta;if(item.qty<=0) cart=cart.filter(i=>i.nameZh!==nameZh);saveCart()}
function removeItem(nameZh){cart=cart.filter(i=>i.nameZh!==nameZh);saveCart()}

function saveCart(){localStorage.setItem("cart",JSON.stringify(cart));renderCart()}

function renderCart(){
  const box=document.getElementById("cartItems");box.innerHTML="";
  let subtotal=0,count=0;
  cart.forEach(i=>{
    subtotal+=i.price*i.qty;count+=i.qty;
    box.innerHTML+=`<div class="cart-item">
      <div>${i.name[currentLang]} x${i.qty}<br>
        <button class="qty-btn" onclick="changeQty('${i.nameZh}',-1)">-</button> ${i.qty} <button class="qty-btn" onclick="changeQty('${i.nameZh}',1)">+</button>
      </div>
      <div>${formatMoney(i.price*i.qty)}<br>
        <button class="remove-btn" onclick="removeItem('${i.nameZh}')">
          ${translations[currentLang].remove}
        </button>
      </div>
    </div>`;
  });
  const sst=subtotal*SST_RATE,service=subtotal*SERVICE_RATE,grand=subtotal+sst+service;
  document.getElementById("labelSubtotal").innerText=translations[currentLang].subtotal;
  document.getElementById("subtotal").innerText=formatMoney(subtotal);
  document.getElementById("labelSST").innerText=translations[currentLang].tax;
  document.getElementById("sst").innerText=formatMoney(sst);
  document.getElementById("labelService").innerText=translations[currentLang].service;
  document.getElementById("service").innerText=formatMoney(service);
  document.getElementById("labelGrandTotal").innerText=translations[currentLang].grandTotal;
  document.getElementById("grandTotal").innerText=formatMoney(grand);
  document.getElementById("cartCount").innerText=count;
}

function toggleCart(){document.getElementById("cart").classList.toggle("open")}
function closeCart(){document.getElementById("cart").classList.remove("open")}
function checkout(){if(!cart.length){alert("Cart is empty");return;}alert("Order placed!");cart=[];saveCart();closeCart()}

function setLang(lang){
  currentLang=lang;
  document.getElementById("title").innerText=translations[lang].title;
  document.getElementById("cartTitle").innerText=translations[lang].cart;
  document.getElementById("checkoutBtn").innerText=translations[lang].checkout;
  renderCategories();renderMenu();renderCart();
  document.querySelectorAll('.lang-switch button').forEach(btn=>btn.classList.toggle('active',btn.innerText.toLowerCase()===lang))
}

// ÂàùÂßãÂåñ
renderCategories();renderMenu();renderCart();
</script>
</body>
</html>
